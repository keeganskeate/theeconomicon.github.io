function HomeControl(e,a){google.maps.event.addDomListener(zoomout,"click",function(){
  var e=a.getZoom();0!=e&&a.setZoom(e-1)}),google.maps.event.addDomListener(zoomin,"click",function(){
  var e=a.getZoom();21!=e&&a.setZoom(e+1)})}function render_map(e){
  var a=e.find(".marker"),t={center:new google.maps.LatLng(0,0),backgroundColor:"#c7c7c1",zoom:8,disableDefaultUI:!0,zoomControl:!1,
                             disableDoubleClickZoom:!0,panControl:!1,mapTypeControl:!1,scaleControl:!1,scrollwheel:!1,
                             streetViewControl:!1,draggable:!0,overviewMapControl:!1,
                             mapTypeId:google.maps.MapTypeId.TERRAIN,styles:[{featureType:"water",
                             stylers:[{color:"#c7c7c1"},{visibility:"on"}]},{featureType:"landscape",
                             stylers:[{color:"#818076"}]},{featureType:"road",stylers:[{color:"#9d9d94"},
                             {visibility:"simplified"}]},{featureType:"road.highway",
                             stylers:[{color:"#9d9d94"},{visibility:"simplified"}]},
                             {featureType:"road.arterial",elementType:"labels.icon",
                              stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text.fill",
                              stylers:[{color:"#444444"}]},{featureType:"transit",
                              stylers:[{visibility:"off"}]},{featureType:"poi",
                              stylers:[{visibility:"off"}]},{featureType:"administrative",
                              stylers:[{visibility:"off"}]},{featureType:"all",elementType:"labels",
                              stylers:[{visibility:"off"}]}]},
      n=new google.maps.Map(e[0],t);n.markers=[],a.each(function(){add_marker($(this),n)}),center_map(n);
  var o=document.createElement("div"),i=new HomeControl(o,n);
  return n}
function add_marker(e,a){var t=new google.maps.LatLng(e.attr("data-lat"),e.attr("data-lng")),
    n=new google.maps.MarkerImage(siteURL+"/wp-content/themes/arca/img/map-icon_x2.png",
                                  null,null,new google.maps.Point(33,28),
                                  new google.maps.Size(26,40)),o=new google.maps.MarkerImage(siteURL+"/wp-content/themes/arca/img/map-icon-active_x2.png",null,null,new google.maps.Point(33,28),new google.maps.Size(26,40)),i=new google.maps.Marker({icon:n,position:t,map:a,filter:{type:e.data("type")}});google.maps.event.addListener(i,"mouseover",function(){i.setIcon(o);var a=e.children().find("h3").text();e.children().find("img").each(function(){var e=$(this).attr("data-img");$(this).attr("src",e)}),$(".map-canvas-container .copyright p").html(a)}),google.maps.event.addListener(i,"mouseout",function(){i!==activeMarker&&(i.setIcon(n),$(".map-canvas-container .copyright p").html(""))}),a.markers.push(i),e.html()&&(infobox=new InfoBox({content:e.children().html(),alignBottom:!0,pixelOffset:new google.maps.Size(-205,-45)}),google.maps.event.addListener(i,"click",function(){infobox.open(a,i),infobox.setContent(e.children().html()),a.panTo(i.getPosition()),$(".map-canvas-container .copyright p").html(""),infobox.show(),activeMarker&&activeMarker.setIcon(n),activeMarker=i,activeMarker.setIcon(o),google.maps.event.addListener(infobox,"domready",function(){$(".close").click(function(){activeMarker&&(activeMarker.setIcon(n),activeMarker=null);var e=(new Date).getFullYear();$(".map-canvas-container .copyright p").html(""),infobox.setMap(null)})})}),google.maps.event.addListener(a,"click",function(){activeMarker&&(activeMarker.setIcon(n),activeMarker=null);var e=(new Date).getFullYear();$(".map-canvas-container .copyright p").html(""),infobox.setMap(null)}))}function center_map(e){var a=new google.maps.LatLngBounds;$.each(e.markers,function(e,t){var n=new google.maps.LatLng(t.position.lat(),t.position.lng());a.extend(n)}),1==e.markers.length?(e.setCenter(a.getCenter()),e.setZoom(10)):e.fitBounds(a)}var siteURL="http://www.arca-projects.com";"localhost"==document.domain&&(siteURL="http://localhost/Freelance/arca");var activeMarker=null;$(document).ready(function(){var e=$(window).height();$(".map-canvas-container").css("height",e),$(".map-canvas").css("height",e+75);var a=$(".map-canvas-container .map-filters-container").height()/2;$(".map-canvas-container .map-filters-container").css("margin-top",-a+40);var t=$(".map-canvas-container .zoom-container").height()/2;$(".map-canvas-container .zoom-container").css("margin-top",-t+78)}),$(window).resize(function(){var e=$(window).height();$(".map-canvas-container").css("height",e),$(".map-canvas").css("height",e+75);var a=$(".map-canvas-container .map-filters-container").height()/2;$(".map-canvas-container .map-filters-container").css("margin-top",-a+40);var t=$(".map-canvas-container .zoom-container").height()/2;$(".map-canvas-container .zoom-container").css("margin-top",-t+78)}),$(document).ready(function(){var e=null;$(".map-canvas").each(function(){e=render_map($(this))}),$(document).on("click",".map-filters-container ul li a",function(a){infobox.setMap(null),a.preventDefault(),$(".map-filters-container ul li").removeClass("active"),$(this).parent().addClass("active");var t=$(this),n=t.data("filterby"),o=t.data("filtervalue");$.each(e.markers,function(){this.filter[n]==o||"*"==o?null==this.map&&this.setMap(e):this.setMap(null)})})});
